# Card Game Prototype  

[English README](README.md)


---

Этот 2D-проект на Unity реализует **систему перетаскивания и размещения карт** с отображением карт лесенкой и функцией отмены последнего действия.  
Прототип демонстрирует модульную архитектуру, использование новой Input System и организацию проекта на основе Assembly Definition.

---

## Описание проекта

Сцена в которой игрок может **перетаскивать и складывать карты** между стопками — колодой, стопкой и стопкой-приёмником.  
Каждый тип стопки подчиняется собственным правилам.  
Отступ между картами в стопке автоматически масштабируется в зависимости от количества карт.  

**Версия Unity:** `6000.2.9f1`

[Видеодемонстрация проекта](https://youtu.be/jrI0XX8dJ5Q)

---

## Возможности

### Перетаскивание карт
- Реализовано с помощью **Unity New Input System**
- Поддерживает:
    - Перетаскивание одной карты
    - Перетаскивание части лесенки из стопки
- Карты становятся **полупрозрачными**, если их нельзя положить на текущее место

### Система стопок
- Три типа стопок:
- **Deck** — начальная колода
- **Tableau** — стопка с лесенками
- **Foundation** — стопка-приёмник принимает только одну карту
- **Динамическое масштабирование отступа:** чем больше карт в стопке, тем меньше расстояние между ними

### Система отмены действий (Undo)
- Кнопка Undo отменяет последнее успешное перемещение между стопками
- Работает со всеми типами стопок
- Восстанавливает порядок и отступ карт



### Архитектура
- **Core** — управление стопками и картами
- **Input** — обработка ввода и перетаскивания
- **View** — отображение карт и взаимодействие
- **Logic** — система отмены действий

---

## Структура проекта

```

Assets/_CardGamePrototype/
│
├── Scripts/
│   ├── Core/        # StackType, Card, CardStack
│   ├── Input/       # InputController, CardDragHandler, CardControls
│   ├── View/        # CardView, StackView, GameBootstrap
│   ├── Logic/       # GameHistory, MoveRecord, UndoButton
│
└── Prefabs/
├── Card.prefab
├── Deck.prefab
├── Tableau.prefab
└── Foundation.prefab

````

---

## Как запустить

1. **Клонируйте репозиторий**

    ```git clone https://github.com/Dav1dParker/UnityCardGamePrototype.git```

2. Откройте проект в \*\*Unity 6000.2.9f1\*\* или более новой версии.
3. Откройте сцену:

    ```Assets/_CardGamePrototype/Scenes/SampleScene.unity```

4. Нажмите **Play**.

---

## Технические особенности

* Основан на **Unity New Input System**
* Отступы масштабируются в зависимости от количества карт в стопке
* Используются **Assembly Definitions** для разделения подсистем и ускорения сборки проекта

---